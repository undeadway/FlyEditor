!function(e){var t={};function r(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(a,l,function(t){return e[t]}.bind(null,l));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t){function r(e,t){for(;null!==(matched=e.match(t.regexp));){let r=t.tag.html,a=matched[1],l=t.tag.start+a+t.tag.end;t.replace&&(a=(a=a.replace(t.replace.start.from,t.replace.start.to)).replace(t.replace.end.from,t.end.start.to));let c=`<${r}>${a}</${r}>`;e=e.replace(l,c)}return e}const a={simpleLineCode:e=>{var t=[];return{before:function(r){for(;e.regexp.test(r);){let a=RegExp.$1;r=r.replace(e.tag.start+a+e.tag.end,"{lineCode"+t.length+"}"),t.push('<code class="code">'+a+"</code>")}return r},after:function(e){return Array.forEach(t,function(t,r){e=e.replace(new RegExp("\\{lineCode"+t+"\\}","g"),r)}),e}}},escapeSequence:e=>{var t=[];return{before:function(r){for(;e.test(r);)r=r.replace(e,"{backslash"+t.length+"}"),t.push(RegExp.$1);return r},after:function(e){return Object.forEach(t,function(t,r){e=e.replace(new RegExp("\\{backslash"+t+"\\}","g"),r)}),e}}}};e.exports={create:(e,t)=>{return{toHTML:(l,c)=>{let{quere:n,aspect:s,object:i}=c,o=[];return t.aspcet&&Object.forEach(t.aspcet,(e,t)=>{let r=a[e](t);r&&(l=r.before(l),o.push(r))}),s&&Array.forEach(s,(e,t)=>{let r=t.method(t.object);l=r.before(l),o.push(r)}),l=e(l),t.object&&Array.forEach(t.object,(e,t)=>{l=r(l,t)}),i&&Array.forEach(i,(e,t)=>{l=r(l,t)}),Array.forEach(o,(e,t)=>{l=t.after(l)}),t.quere&&Array.forEach(t.quere,(e,t)=>{l=t(l)}),n&&Array.forEach(n,(e,t)=>{l=t(l)}),function(e){try{e=decodeURIComponent(e)}catch(e){}return e}(l)}}}}},function(e,t,r){const a=/\n\n((&gt;(.*)\n)+)/,l=/\n&gt;/g,c="引用";var n=function(){const e=/(\*+\. (.)+\n)+/,t=/([0-9]+\. (.)+\n)+/,r=/([a-z]+\. (.)+\n)+/,a=/[0-9]+\. /g,l=/[a-z]+\. /g,c=/\*+\. /g,n=/\n/g,s="<li>",i="</li>";function o(e,t,r,a,l){var c=t.replace(r,s);return c=c.replace(n,i),e.replace(t,a+c+l)}return function(n){for(;null!==(matches=n.match(e));)n=o(n,matches[0],c,"<ul>","</ul>");for(;null!==(matches=n.match(t));)n=o(n,matches[0],a,'<ol class="list_type_1">',"</ol>");for(;null!==(matches=n.match(r));)n=o(n,matches[0],l,'<ol class="list_type_a">',"</ol>");return n}}();const s=/#\(((.|\s)*?)\)/;const i=/\$\(((.|\s)*?)\)/;const o=/(\|(.)+\|\n)+/,p=/\|/g,g="</tr><tr>",u="</td><td>",h='<table class="table"><tr>',d="</tr></table>";const m=/\/\*((.|\s)*?)\*\//g,f=/\/((.|\s){1,})\//g,$=/!((.|\s)*?)!/g,b=/\[\-:((.|\s)*?)\]/g,y=/\[\+:((.|\s)*?)\]/g,_=/-((.|\s)*?)-/g,v=/_((.|\s)*?)_/g,E=/\n&gt;&gt;((.|\s)+)&lt;&lt;\n/g,k=/\n\|\:((.|\s)+)&lt;&lt;\n/g,x=/\n&gt;&gt;((.|\s)+)\:\|\n/g,w=/\?\(([1-9]([0-9]?)):((.|\s)*?)\)/,S=/###### (.*?)(\n|$)/g,O=/##### (.*?)(\n|$)/g,j=/#### (.*?)(\n|$)/g,z=/### (.*?)(\n|$)/g,A=/## (.*?)(\n|$)/g,L=/# (.*?)(\n|$)/g,R=/\n/g;e.exports=commons=r(0).create(e=>(e=(e=(e=(e=(e=(e=function(e){for(;a.test(e);){let t=RegExp.$1.replace(l,"\n"),r=(t=t.slice(4)).indexOf("\n"),n=t.slice(0,r),s=String.startsWith(n,"(")&&String.endsWith(n,")"),i=s?n.slice(1,n.length-1):c,o=s?t.slice(r+1):t;e=e.replace(a,`<fieldset><legend>${i}</legend>${o}</fieldset>`)}return e}(e=(e=e.replace(m,String.BLANK)).replace(f,"<em>$1</em>"))).replace($,"<strong>$1</strong>")).replace(b,"<input type=checkbox name=$1 />")).replace(y,"<input type=checkbox checked=checked name=$1 />")).replace(_,"<del>$1</del>")).replace(v,"<ins>$1</ins>"),e=(e=(e=(e=(e=(e=(e=(e=function(e){for(;i.test(e);){var t=RegExp.$1,r=t.split("|"),a=r[0].replace(/<\/?(em)>/g,"/"),l='<img src="'+(a=(a=a.replace(/<\/?(ins)>/g,"_")).replace(/<\/?(del)>/g,"-"))+'"';l+=' title="'+(r[1]||a)+'"',r[2]&&(l+=' width="'+r[2]+'"'),r[3]&&(l+=' height="'+r[3]+'"'),l+=' onload="styles.Image.resize(this)" onclick="styles.Image.protoSize(this)" />',e=e.replace("$("+t+")",l)}return e}(e=function(e){for(;s.test(e);){var t=RegExp.$1,r=t.split("|"),a=r[0],l='<a href="'+a+'"';l+=' title="'+(4===r.length&&r[2]||a)+'"';var c=r[4===r.length?3:2];c&&(l+=' target="_'+c+'"'),l+=">",l+=r[1]||a,l=(l+="</a>").replace(/<\/?em>/g,"/"),e=e.replace("#("+t+")",l)}return e}(e=function(e){for(;COLOR_TAG_REGX.test(e);){var t,r=RegExp.$1,a=RegExp.$2,l=a.split("|");t=2===l.length?'<span class="'+l[0]+"_"+r+'">'+l[1]+"</span>":'<span class="color_'+r+'">'+l[0]+"</span>",e=e.replace("[#"+r+"|"+a+"]",t)}return e}(e=(e=(e=(e=(e=function(e){for(;null!==(matches=e.match(o));){let t=matches[0],r=[];Array.forEach(t.split("\n"),function(e,t){1!==e&&(t=t.slice(1,t.length-1),r.push(t.replace(p,u)))});let a=h+r.join(g)+d;e=e.replace(t,a)}return e}(e=n(e))).replace(E,'<div class="align_center">$1</div>')).replace(k,'<div align="align_left">$1</div>')).replace(x,'<div align="align_right">$1</div>')).replace(w,'<span class="size_$1">$3</span>'))))).replace(S,'<h1 class="h6">$1</h1>')).replace(O,'<h1 class="h5">$1</h1>')).replace(j,'<h1 class="h4">$1</h1>')).replace(z,'<h1 class="h3">$1</h1>')).replace(A,'<h1 class="h2">$1</h1>')).replace(L,'<h1 class="h1">$1</h1>')).replace(R,BR_TAG)),{object:null,aspcet:{simpleLineCode:{regexp:/`((.)*?)`/,tag:{start:"`",end:"`"}},escapeSequence:/\[\[((.|\s) *?) \]\]/}}),commons.clear=(e=>e)},function(e,t){Coralian.dom.newXmlWrapper,Coralian.util.ReplaceHolder.htmlEscape,String.BLANK,Number.isNumber,Coralian.util.Format.formatFileSize;e.exports=hiton()},function(e,t,r){let a="HitOn",l={ubbcode:r(4),HitOn:r(1)},c=new Proxy(l,{get:(e,t)=>String.startsWith(t,a)&&t!==a?r(5)("./"+t.split("-")[1]):e[t]});e.exports={execute:(e,t,r)=>{try{return e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n"),c[t].toHTML(e,function(e,t){return String.startsWith(t,a)?e[a]:e[t]}(r,t))}catch(t){return Coralian.logger.err(t),`<pre>${e}</pre>`}},addParser:(e,t)=>{l[e]=t},ed2k:{change:function(e){document.getElementById("ed2k_"+e)},downloadSelected:function(e){document.getElementById("ed2k_"+e)},selectAll:function(){}}}},function(e,t,r){let a=String.BLANK,l=(Number.isNumber,Coralian.Formatter.formatFileSize,function(){const e=/align=(left|center|right|justify)/,t=/(width|height)=(\d+)/,r=/size=\((\d+),(\d+)\)/,a=' onload="styles.Image.resize(this)" onclick="styles.Image.protoSize(this)" />';function l(l,c){let n=!1,s=!1;if(null!==(matched=l.match(e))&&(c+=' class="flyimg img_'+matched[1]+'"'),null!==(matched=l.match(t))&&(n=!0,c+=" "+matched[1]+'="'+matched[2]+'"'),null!==(matched=l.match(r))&&(s=!1,c+=' width="'+matched[1]+'" height="'+matched[2]+'"'),n&&s)throw new Error("不能同时指定 size 和 with 或 height。");return c+=a}const c=/\[img (align|size|width|height)=([^\[]+)\]([^\[]+)\[\/img\]/,n=/\[img=([^\[]*) (align|size|width|height)=([^\[]+)\]([^\[]+)\[\/img\]/,s=/\[img=([^\[]*)\](.+?)\[\/img\]/g,i=/\[img\]([^\[]*)\[\/img\]/g;return function(e){for(;null!==(matched=e.match(c));){let t="[img "+matched[1]+"="+matched[2]+"]"+matched[3]+"[/img]",r='<img src="'+matched[3]+'"';e=e.replace(t,l(t,r))}for(;null!==(matched=e.match(n));){let t="[img="+matched[1]+" "+matched[2]+"="+matched[3]+"]"+matched[4]+"[/img]",r='<img src="'+matched[1]+'" title="'+matched[4]+'"';e=e.replace(t,l(t,r))}return e=(e=e.replace(i,'<img class="flyimg" title="$1" src="$1" onload="styles.Image.resize(this)" onclick="styles.Image.protoSize(this)" />')).replace(s,'<img class="flyimg" src="$1" title="$2" onload="styles.Image.resize(this)" onclick="styles.Image.protoSize(this)" />')}}()),c=function(){function e(e,t){if(t=t||"ul",String.isEmpty(e))return e;return(e=e.split("[*]")).shift(),"<"+t+"><li>"+e.join("</li><li>")+"</li></"+t+">"}const t=/\[list\]((.|\s)*?)\[\/list\]/,r=/\[list=(a|A|1|\*|#|o|i|I|α|一|あ|ア)( [^\[]+)*\]((.|\s)*?)\[\/list\]/;return function(l){for(;null!==(matched=l.match(t));)l=l.replace("[list]"+matched[1]+"[/list]",e(matched[1]));for(;null!==(matched=l.match(r));){let t,r=matched[1];if(params=matched[2],outParam=a,inner=matched[3],className="list_type_",!String.isEmpty(params)){if(params=params.split(" "),params.length>2)throw new Error("参数个数不正确");for(let e=0;e<2;e++)if("reversed"===params[e])outParam+=" reversed";else{if(!String.startsWith(params[e],"start"))throw new Error("参数不正确");outParam+=' start="'+params[e].last()+'"'}}switch(r){case"#":className+="square";break;case"*":className+="disc";break;case"o":className+="circle";break;case"α":className+="greek",t="ol";break;case"一":className+="shuzi",t="ol";break;case"あ":className+="hira",t="ol";break;case"ア":className+="kata",t="ol";break;default:t="ol",className+=r}l=l.replace("[list="+r+params+"]"+inner+"[/list]",e(inner,t))}return l}}();const n=/\[url]((.|\s)*?)\[\/url\]/g,s=/\[url target=([^\[]*)\]((.|\s)*?)\[\/url\]/g,i=/\[url=([^\[]*) target=([^\[]*)\]((.|\s)*?)\[\/url]/g,o=/\[url=([^\[]*)\]((.|\s)*?)\[\/url\]/g,p='<a href="$1">$1</a>',g='<a href="$2" title="$2" target="_$1">$2</a>',u='<a href="$1" title="$1" target="_$2">$3</a>',h='<a href="$1" title="$2">$2</a>';let d=function(){let e={bilibili:function(e,t){return t=t||1,'<iframe class="h5video" src="https://www.bilibili.com/blackboard/player.html?aid='+e.replace("av","")+'" scrolling="no" border="0" framespacing="0" frameborder="no"></iframe>'},youku:function(e){return'<iframe  class="h5video" src="http://player.youku.com/embed/'+e+'" frameborder="no"></iframe>'}};const t=/\[h5v=([^\]]+)]([^\]]+)\[\/h5v\]/;function r(t,r,a,l,c){let n=e[a](l,c);return c&&(c=","+c),r=(r=(r=r.replace("%1",a)).replace("%2",l)).replace("%3",c),t.replace(r,n)}return function(e){if(1===arguments.length)for(;null!==(matched=e.match(t));){let t=matched[1],a=matched[2].split(",");e=r(e,"[h5v=%1]%2%3[/h5v]",t,a[0],a[1]||"")}else e=r(e,arguments[1],arguments[2],arguments[3],arguments[4]||"");return e}}();const m=/\[flash=bilibili]([^\[]+)\.swf\?aid=([^\[]+)\[\/flash]/,f=/\[flash]([^\[]+)\[\/flash]/,$='<embed src="$1" allowFullScreen="true" name="movie" value="opaque" width="634" height="440" type="application/x-shockwave-flash" />',b="youku",y="bilibili";const _=/\[(tr|td) ([^\[]+)=([^\[]+)\]/g,v=/\[table ([^\[]+)=([^\[]+)\]/g,E=/\[table\]/g,k=/\[\/table\]/g,x='<$1 $2="$3">',w='<table class="table">',S="</table>";const O=/\[(\/)?(quote|p|table|td|tr|list|align)\]\n\[(\/)?(quote|p|table|td|tr|list|align)/,j=/\[\/(size|color|font|bgcolor)\]/g,z=/\[(\/)?(sub|sup|del|p|tr|td|mark)]/g,A=/\[(\/)?h([1-6])]/g,L=/\[size=(\d+?)]/g,R=/\[(bg|)color=\#([^\[\<]+?)]/g,I=/\[align=(left|center|right|justify)\]((.|\s)*?)\[\/align\]/g,N=/\[u\](.+?)\[\/u]/g,C=/\[quote\]/g,X=/\[quote=([^\]]+)\]/g,q=/\[\/(quote|thunder|magnet)\]/g,T=/\[thunder=([^\]]+)\]([^\[]+)/g,G=/\[magnet=([^\]]+)\]([^\[]+)/g;OLD_BOLD_REGX=/\[b(old)?\](.+?)\[\/b(old)?]/g,OLD_ITALIC_REGX=/\[i(talic)?\](.+?)\[\/i(talic)?]/g,TAIL_EXE_REGX_1=/\<(\/)?(div|fieldset|tr|pre|table|p|h[1-6]|pre|li|ul|ol)\>\<br( \/)?\>/g,TAIL_EXE_REGX_2=/\<br( \/)?\>\<(\/)?(div|fieldset|tr|table|p|h[1-6]|pre|li|ul|ol)/g;e.exports=commons=r(0).create(e=>(e=function(e){for(;null!==(matched=e.match(m));){let t=matched[1],r=matched[2],a=r.split("&amp;page=");e=d(e,"[flash=bilibili]"+t+".swf?aid="+r+"[/flash]",y,a[0],a[1])}for(;null!==(matched=e.match(f));){let t=matched[1],r="[flash]"+t+"[/flash]";if(String.contains(t,b)){let a=t.split("/");e=d(e,r,b,a[a.length-2])}else e=e.replace(f,$)}return e}(e=e.replace(O,"[$1$2][$3$4")),e=(e=(e=function(e){return e=(e=(e=(e=e.replace(_,x)).replace(v,w)).replace(E,w)).replace(k,S)}(e=(e=(e=(e=(e=(e=d(e)).replace(j,"</span>")).replace(z,"<$1$2>")).replace(A,'<$1h$2 class="$1h$2">')).replace(L,'<span class="size_$1">')).replace(R,'<span class="$1color_$2">'))).replace(I,'<div class="align_$1">$2</div>')).replace(N,"<ins>$1</ins>"),e=c(e),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=function(e){return e=(e=(e=(e=e.replace(n,p)).replace(s,g)).replace(i,u)).replace(o,h)}(e=l(e))).replace(C,'<fieldset class="fieldset"><legend>引用</legend><div>')).replace(X,'<fieldset class="fieldset"><legend>$1</legend><div>')).replace(q,"</div></fieldset>")).replace(T,'<fieldset class="fieldset"><legend>迅雷资源</legend><div><a href="$1" title="$2">$2</a>')).replace(G,'<fieldset class="fieldset"><legend>磁力链接</legend><div><a href="$1" title="$2">$2</a>')).replace(OLD_BOLD_REGX,"<strong>$2</strong>")).replace(OLD_ITALIC_REGX,"<em>$2</em>")).replace(TAIL_EXE_REGX_1,"<$1$2>")).replace(TAIL_EXE_REGX_2,"<$2$3")),{object:[{regexp:/\[pre\]((.|\s)*?)\[\/pre\]/,tag:{start:"[pre]",end:"[/pre]",html:"pre"}},{regexp:/\[phonics\]((.|\s)*?) \[\/phonics\]/,tag:{start:"[phonics]",end:"[/phonics]",html:"ruby"},replace:{start:{from:/\(/g,to:"<rp>(</rp> <rt>"},end:{from:/\)/g,to:"</rt><rp>)</rp>"}}}],aspcet:{simpleLineCode:{regexp:/\[code\]((.)*?)\[\/code\]/,tag:{start:"[code]",end:"[/code]"}}}}),commons.clear=(e=>e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\[\/(size|color|font|backcolor)\]/g,a)).replace(/\[(\/)?(sub|flash|sup|underline|i|p|del|b|quote|tucao|magnet|ed2k|thunder)\]/g,a)).replace(/\[\/align\]/g,a)).replace(/\[(\/)?h([1-6])\]/g,a)).replace(/\[align=(left|center|right|justify)\]/g,a)).replace(/\[size=(\d+?)\]/g,a)).replace(/\[(color|bgcolor)=\#([^\[\<]+?)\]/g,a)).replace(/\[font=([^\[\<]+?)\]/g,a)).replace(/\[list=(a|A|1)\](.+?)\[\/list\]/g,"$2")).replace(/\[(\/)?list\]/g,a)).replace(/\[img(\((left|center|right|justify)\)|)\]([^\[]*)\[\/img\]/g,"$1")).replace(/\[url([^\[]*)\]([^\[]+)\[\/url\]/g,"$2"))},function(e,t,r){var a={"./0.0.0":2,"./0.0.0.js":2};function l(e){var t=c(e);return r(t)}function c(e){var t=a[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}l.keys=function(){return Object.keys(a)},l.resolve=c,e.exports=l,l.id=5}]);